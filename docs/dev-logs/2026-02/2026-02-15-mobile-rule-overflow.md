# 2026-02-15 手机端积分规则显示不全修复

## 本日目标

修复设置页加分项/减分项在手机端分值和删除按钮被挤出屏幕的问题。

## 完成内容

- 诊断出根本原因：`.card` 类自带 `overflow-hidden`，加上层叠 padding（section `p-6` + 内层 `p-4` + DragItem `px-3`），移动端一行放不下 5 个元素（拖拽柄 + emoji + 名称 + 分值 + 删除），超出部分被裁掉
- 优化移动端布局间距，确保所有元素可见

## 遇到的问题

1. 第一次修复只加了 `min-w-0`：分值显示出来了，但删除按钮仍然在屏幕外
2. 第二次缩小 DragItem 间距和 emoji 宽度、删除按钮改为 "×"：仍然不够，因为内层容器 `p-4` 占用太多空间
3. 第三次同时缩小内层容器 padding 才最终解决

## 解决方案

四处调整，逐步为移动端腾出空间：

| 修改点 | 修改前 | 修改后（移动端） | 节省空间 |
|--------|--------|------------------|----------|
| 名称输入框 | `flex-1` | `min-w-0 flex-1` | 允许收缩 |
| 内层容器 padding | `p-4` | `p-2 md:p-4` | 16px |
| DragItem 间距 | `gap-2 px-3` | `gap-1.5 px-2 md:gap-2 md:px-3` | ~10px |
| emoji 输入框 | `w-12 px-2` | `w-10 px-1 md:w-12 md:px-2` | 12px |
| 分值输入框 | `w-14` | `w-12 md:w-20` | 8px |
| 删除按钮 | "删除" | 移动端 "×" / 桌面端 "删除" | ~16px |

## 相关文件

- `app/src/routes/Settings.tsx` — DragItem 组件及积分规则行布局
- `app/src/index.css` — `.card` 类定义（`overflow-hidden` 是裁切根因）
