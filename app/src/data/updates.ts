export type UpdateTag = "功能" | "体验" | "修复" | "优化" | "内容" | "公告"

export interface UpdateEntry {
  id: string
  date: string
  title: string
  summary: string
  highlights?: string[]
  tags: UpdateTag[]
  version?: string
}

export const updates: UpdateEntry[] = [
  {
    id: "forgot-username-lookup",
    date: "2026-02-24",
    version: "v1.7.5",
    title: "忘记用户名？激活码找回",
    summary: "登录页新增忘记用户名入口，输入激活码即可查到绑定的账号。",
    highlights: [
      "登录页新增「忘记用户名」链接",
      "输入购买时的激活码，自动查回用户名",
    ],
    tags: ["功能"],
  },
  {
    id: "noise-selective-reward",
    date: "2026-02-24",
    version: "v1.7.4",
    title: "静音挑战：可选学生加分",
    summary: "安静达标后可以选择参与的学生再加分，延时课等场景不用再给全班加分了。",
    highlights: [
      "达标弹窗新增学生选择，点击姓名勾选/取消",
      "默认全选，支持一键全选/取消全选",
      "适合延时课、兴趣班等部分学生参与的场景",
    ],
    tags: ["优化"],
  },
  {
    id: "adopt-duplicate-guard",
    date: "2026-02-24",
    version: "v1.7.3",
    title: "领养幻兽防重复",
    summary: "已收集过的幻兽在领养弹窗中会标记「已收集」并灰度化，避免误选。",
    highlights: [
      "已收集的幻兽显示「已收集」标签",
      "灰度化展示，禁止重复领养",
    ],
    tags: ["优化"],
  },
  {
    id: "roll-call-enhance",
    date: "2026-02-19",
    version: "v1.7.2",
    title: "随机点名增强：多人抽取 & 答对加分",
    summary: "随机点名支持自定义抽取人数，一次最多抽全班。点名结果页新增「答对加分」，选择答对的同学即可快速加分。",
    highlights: [
      "自由设置抽取人数，一次可抽 1 人到全班",
      "单人抽取保持聚光灯动画，多人抽取有闪烁揭晓效果",
      "点名后可选择「答对加分」，点击头像勾选答对的同学",
      "加分分值自由填写，不需要加分时直接跳过即可",
    ],
    tags: ["功能"],
  },
  {
    id: "roll-call-tool",
    date: "2026-02-17",
    version: "v1.7.1",
    title: "随机点名",
    summary: "课堂工具箱新增「随机点名」，全班学生和幻兽头像一目了然，点击抽取后聚光灯扫过全班，定格揭晓被点到的同学。",
    highlights: [
      "展示全班学生和幻兽头像网格，一眼看到每位同学",
      "聚光灯动画从快到慢扫过，最终定格在被选中的同学上",
      "弹出幻兽大图和学生姓名，课堂互动感十足",
      "已点过的同学不会重复抽中，点完一轮自动重新开始",
    ],
    tags: ["功能"],
  },
  {
    id: "classroom-toolbox",
    date: "2026-02-16",
    version: "v1.7.0",
    title: "课堂工具箱 & 静音挑战",
    summary: "桌面端右侧新增工具箱入口，第一个工具「静音挑战」上线，实时监测课堂音量，安静达标还能全班奖励加分。",
    highlights: [
      "鼠标悬停右侧边栏即可打开工具箱，目前包含静音挑战等工具",
      "静音挑战实时显示音量大小，超过设定阈值会红色闪烁警告",
      "开启「安静奖励」后，全班连续安静达标可一键全班加分",
      "安静时长和奖励分数都可自由设置",
    ],
    tags: ["功能"],
  },
  {
    id: "remember-password-reset",
    date: "2026-02-15",
    version: "v1.6.4",
    title: "记住密码 & 忘记密码找回",
    summary: "登录页支持记住密码，下次打开自动填充。忘记密码时可用激活码重置，不用再联系管理员了。",
    highlights: [
      "勾选「记住密码」后下次自动填充用户名和密码",
      "忘记密码可用自己的激活码重置，不消耗新激活码",
      "未激活账号登录时自动跳转激活页，不再只显示提示",
    ],
    tags: ["功能", "体验"],
  },
  {
    id: "mobile-beast-button",
    date: "2026-02-14",
    version: "v1.6.3",
    title: "手机端幻兽操作优化",
    summary: "手机端所有状态的学生都能更换幻兽了，按钮更紧凑不占空间。",
    highlights: [
      "已领养的学生也能直接更换幻兽，不用等满级",
      "按钮内联到名字旁边，不再占用整行",
    ],
    tags: ["体验"],
  },
  {
    id: "settings-overwrite-fix",
    date: "2026-02-12",
    version: "v1.6.2",
    title: "积分规则修复 & 性能优化",
    summary: "修复了自定义积分规则被意外重置的问题，同时大幅减少了页面加载时的网络请求。",
    highlights: [
      "自定义的积分规则不会再被重置为默认值了",
      "新建班级时自动写入初始设置，首次进入不再为空",
      "页面加载速度提升，数据库请求减少约 30-40%",
    ],
    tags: ["修复", "体验"],
  },
  {
    id: "shop-display-fix",
    date: "2026-02-12",
    version: "v1.6.1",
    title: "小卖部显示修复",
    summary: "修复了部分班级小卖部商品不显示的问题，同时优化了 PC 端布局。",
    highlights: [
      "小卖部商品现在能正常显示了，不再出现空白",
      "清理了历史重复商品数据",
      "PC 端商品卡片改为一行 4 列，更整齐",
    ],
    tags: ["修复", "体验"],
  },
  {
    id: "record-summary",
    date: "2026-02-11",
    version: "v1.6.0",
    title: "成长记录概览统计",
    summary: "成长记录新增「概览统计」视图，一键查看本周/本月的加减分汇总，不用逐条翻看明细了。",
    highlights: [
      "班级整体统计：总加分、总扣分、净得分、活跃学生数，一目了然",
      "学生排行：按净得分排名，金银铜徽章，每位学生的加减分一清二楚",
      "规则统计：哪条规则用得最多、总分多少，帮助优化班规设计",
      "支持切换本周/本月，数据实时计算",
    ],
    tags: ["功能"],
  },
  {
    id: "mobile-card-optimize",
    date: "2026-02-11",
    version: "v1.5.7",
    title: "手机端紧凑视图 & 排序",
    summary: "手机端支持紧凑模式，一屏可看更多学生；新增排序功能，按姓名或积分快速找人。",
    highlights: [
      "工具栏新增「紧凑/大图」切换，紧凑模式 3 列布局，一屏可看 9-12 个学生",
      "新增排序下拉框，支持按姓名拼音、按累计积分排序",
      "排序和布局偏好自动保存，刷新不丢失",
    ],
    tags: ["功能", "体验"],
  },
  {
    id: "auth-over-100-fix",
    date: "2026-02-11",
    version: "v1.5.6",
    title: "修复用户量较多时登录异常",
    summary: "修复注册用户超过 100 人后，新用户可能无法激活、登录或注册的问题。",
    highlights: [
      "激活码激活、登录、注册在用户较多时均恢复正常",
      "修复激活页报错提示不准确的问题",
    ],
    tags: ["修复"],
  },
  {
    id: "batch-quick-select",
    date: "2026-02-10",
    version: "v1.5.5",
    title: "批量模式粘贴姓名快速选人",
    summary: "批量模式下直接粘贴多个学生姓名，按回车自动勾选，不用一个个找了。",
    highlights: [
      "搜索框支持输入多个姓名（空格或逗号分隔），按回车自动选中",
      "支持多次粘贴追加选择，未找到的姓名会提示",
      "搜索框旁显示「选中」按钮，点击也能快速勾选",
    ],
    tags: ["功能"],
  },
  {
    id: "record-sort-fix",
    date: "2026-02-10",
    version: "v1.5.4",
    title: "修复成长记录显示问题",
    summary: "修复加分提示显示错误学生名、成长记录日期排序混乱的问题，记录查询速度也更快了。",
    highlights: [
      "加分/扣分后底部提示现在显示正确的学生名",
      "成长记录按日期排序恢复正常",
      "记录查询性能优化，数据量再多也不卡",
    ],
    tags: ["修复", "体验"],
  },
  {
    id: "duplicate-add-fix",
    date: "2026-02-10",
    version: "v1.5.3",
    title: "修复重复添加学生",
    summary: "修复快速连续点击添加按钮导致学生被重复写入的问题。",
    highlights: [
      "添加、批量添加、Excel 导入按钮在操作中自动禁用，防止重复提交",
    ],
    tags: ["修复"],
  },
  {
    id: "mobile-records",
    date: "2026-02-10",
    version: "v1.5.2",
    title: "手机端成长记录入口",
    summary: "主账号手机端底部导航新增「记录」Tab，随时查看学生积分变动。",
    highlights: [
      "手机端底部导航新增「记录」入口，与电脑端一致",
      "记录页面针对小屏幕优化，文字和间距更紧凑，浏览更舒适",
    ],
    tags: ["体验"],
  },
  {
    id: "touch-hover-fix",
    date: "2026-02-10",
    version: "v1.5.1",
    title: "修复触屏设备点击无反应",
    summary: "修复在智慧黑板、触屏电脑等设备上点击学生卡片没反应的问题。",
    highlights: [
      "360浏览器 + 触屏设备上点击学生卡片现在能正常弹出操作面板",
      "桌面端鼠标悬浮效果保持不变",
    ],
    tags: ["修复"],
  },
  {
    id: "group-pk",
    date: "2026-02-10",
    version: "v1.5.0",
    title: "小组积分PK",
    summary: "把学生分成小组进行积分PK，在光荣榜查看小组排名，激发团队合作。",
    highlights: [
      "设置页新增「分组管理」，自由创建小组、分配成员、设置颜色标识",
      "光荣榜新增「小组PK」Tab，按小组总积分排名，可展开查看成员明细",
      "删除学生或班级时自动清理关联的小组数据",
      "没有分组时光荣榜保持原样，不影响已有使用习惯",
    ],
    tags: ["功能"],
  },
  {
    id: "bugfix-v1.4.2",
    date: "2026-02-10",
    version: "v1.4.2",
    title: "稳定性修复",
    summary: "修复光荣榜小组排名、切换班级残留数据、子账号创建等多项问题，提升系统稳定性。",
    highlights: [
      "修复光荣榜小组排名在集合未就绪时可能报错的问题",
      "修复切换班级时光荣榜短暂显示上一个班级排名的问题",
      "修复创建子账号时用户名唯一性校验在用户量较多时可能失效的问题",
    ],
    tags: ["修复"],
  },
  {
    id: "student-limit",
    date: "2026-02-10",
    version: "v1.4.1",
    title: "班级学生人数上限",
    summary: "每个班级最多容纳 100 名学生，添加时会提示剩余名额。",
    highlights: [
      "单个添加、批量导入、Excel 导入均会在达到上限时提前提示",
      "学生管理区域显示当前人数和剩余名额",
    ],
    tags: ["功能"],
  },
  {
    id: "share-to-parents",
    date: "2026-02-10",
    version: "v1.4.0",
    title: "进度分享到家长群",
    summary: "生成分享链接发到微信群，家长点开即可查看幻兽养成实时进度，无需登录。",
    highlights: [
      "支持班级概览和学生详情两种分享模式",
      "班级概览显示全班排名、幻兽形态和进度，前三名金银铜高亮",
      "学生详情展示幻兽大图、积分数据和最近积分记录",
      "链接30天有效，可随时在分享管理中撤销",
    ],
    tags: ["功能"],
  },
  {
    id: "mobile-adaptation",
    date: "2026-02-10",
    version: "v1.3.0",
    title: "手机端适配上线",
    summary: "老师可以在手机上随时给学生加减分，教室里走到哪操作到哪。",
    highlights: [
      "手机底部新增导航栏，一键切换首页、光荣榜、小卖部、设置",
      "学生卡片紧凑排列，一屏可看 4-6 个学生，快速找到目标",
      "加分弹窗从底部弹出，规则一目了然，点击即完成操作",
      "电脑端界面完全不受影响，手机电脑各用各的",
    ],
    tags: ["功能", "体验"],
  },
  {
    id: "settings-auto-save",
    date: "2026-02-09",
    version: "v1.2.1",
    title: "设置页自动保存",
    summary: "修改积分规则、商品等设置后自动保存，不再需要手动点保存按钮。",
    highlights: [
      "编辑后 1.5 秒无操作自动保存，顶部显示保存状态",
      "新增规则或商品名称为空时暂不保存，填完自动触发",
    ],
    tags: ["体验"],
  },
  {
    id: "sub-account-system",
    date: "2026-02-09",
    version: "v1.2.0",
    title: "子账号管理上线",
    summary: "可为班干部或协作老师创建子账号，分权管理班级积分。",
    highlights: [
      "在设置页创建子账号，设定用户名、密码和昵称",
      "勾选授权班级，子账号登录后只能看到对应班级",
      "子账号可加分/减分，操作记录自动标注操作人",
      "可按需开启小卖部兑换权限，默认关闭",
    ],
    tags: ["功能"],
  },
  {
    id: "copy-class-settings",
    date: "2026-02-08",
    version: "v1.1.2",
    title: "新建班级支持复制已有班级设置",
    summary: "创建新班级时可选择从已有班级复制积分规则和商品，不必每次从头配置。",
    highlights: [
      "新建班级弹窗新增「初始设置」选择：默认模板或从已有班级复制",
      "复制内容包括积分规则、成长阈值和小卖部商品",
      "创建后仍可在设置页面继续个性化修改",
    ],
    tags: ["功能"],
  },
  {
    id: "search-records-by-student",
    date: "2026-02-08",
    version: "v1.1.1",
    title: "成长记录支持按学生搜索",
    summary: "记录页新增搜索框，快速查看某位学生的所有积分变动。",
    highlights: [
      "输入学生姓名即可筛选，支持模糊匹配",
      "保存设置时自动校验名称不能为空，避免误存",
    ],
    tags: ["功能"],
  },
  {
    id: "honor-board-upgrade",
    date: "2026-02-08",
    version: "v1.1.0",
    title: "光荣榜全新升级",
    summary: "徽章展示收集的满级幻兽，积分体系更清晰。",
    highlights: [
      "满级幻兽自动记录为徽章，光荣榜展示收集图鉴，悬停可查看大图",
      "新增累计积分：历史总获得，不受兑换和换幻兽影响，排名更公平",
      "成长值决定幻兽等级，可用积分用于小卖部兑换，概念一目了然",
    ],
    tags: ["功能", "优化"],
  },
  {
    id: "sort-settings",
    date: "2026-02-07",
    version: "v1.0.9",
    title: "小卖部与积分项支持排序",
    summary: "加分项、减分项和小卖部商品支持自定义排序。",
    highlights: ["设置页拖拽排序", "保存后列表按新顺序展示"],
    tags: ["功能"],
  },
  {
    id: "pwa-install",
    date: "2026-02-07",
    version: "v1.0.8",
    title: "支持安装到桌面，全屏像 App 使用",
    summary: "应用可安装到手机/电脑桌面，全屏打开更专注。",
    highlights: ["安装后可全屏使用", "打开速度更快，体验更流畅"],
    tags: ["功能"],
  },
  {
    id: "store-custom-items",
    date: "2026-02-07",
    version: "v1.0.8",
    title: "小卖部商品支持自定义",
    summary: "老师可自定义小卖部商品内容，满足不同班级需求。",
    highlights: ["可新增、编辑、下架商品", "支持设置积分价格与库存"],
    tags: ["功能"],
  },
  {
    id: "v1.0.4",
    date: "2026-02-07",
    version: "v1.0.4",
    title: "Excel 导入学生名单",
    summary: "支持上传 Excel 批量导入学生名单，减少手工录入。",
    highlights: [
      "上传 .xlsx/.xls 文件，自动识别姓名列并预览确认",
      "拖拽上传，文件大小限制 5MB",
    ],
    tags: ["功能"],
  },
  {
    id: "v1.0.3",
    date: "2026-02-07",
    version: "v1.0.3",
    title: "进化升级全屏庆祝动画",
    summary: "加分导致进化时展示沉浸式全屏动画。",
    highlights: [
      "白色闪光、发光环、星星粒子与新形态居中展示",
      "支持批量模式连续播放多个进化动画",
    ],
    tags: ["功能"],
  },
  {
    id: "v1.0.2",
    date: "2026-02-06",
    version: "v1.0.2",
    title: "新班级默认积分规则",
    summary: "创建班级后自动预置积分规则，开班即可使用。",
    highlights: ["默认 13 条规则（9 加分 + 4 减分）"],
    tags: ["功能"],
  },
  {
    id: "v1.0.0",
    date: "2026-02-05",
    version: "v1.0.0",
    title: "幻兽学院核心系统上线",
    summary: "完整的班级积分与幻兽成长系统首次发布。",
    highlights: [
      "幻兽系统、积分系统、商店系统与荣誉系统",
      "记录系统、设置系统、认证与激活码管理",
    ],
    tags: ["功能"],
  },
]
