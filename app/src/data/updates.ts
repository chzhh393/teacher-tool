export type UpdateTag = "功能" | "体验" | "修复" | "优化" | "内容" | "公告"

export interface UpdateEntry {
  id: string
  date: string
  title: string
  summary: string
  highlights?: string[]
  tags: UpdateTag[]
  version?: string
}

export const updates: UpdateEntry[] = [
  {
    id: "mobile-card-optimize",
    date: "2026-02-11",
    version: "v1.5.7",
    title: "手机端紧凑视图 & 排序",
    summary: "手机端支持紧凑模式，一屏可看更多学生；新增排序功能，按姓名或积分快速找人。",
    highlights: [
      "工具栏新增「紧凑/大图」切换，紧凑模式 3 列布局，一屏可看 9-12 个学生",
      "新增排序下拉框，支持按姓名拼音、按累计积分排序",
      "排序和布局偏好自动保存，刷新不丢失",
    ],
    tags: ["功能", "体验"],
  },
  {
    id: "auth-over-100-fix",
    date: "2026-02-11",
    version: "v1.5.6",
    title: "修复用户量较多时登录异常",
    summary: "修复注册用户超过 100 人后，新用户可能无法激活、登录或注册的问题。",
    highlights: [
      "激活码激活、登录、注册在用户较多时均恢复正常",
      "修复激活页报错提示不准确的问题",
    ],
    tags: ["修复"],
  },
  {
    id: "batch-quick-select",
    date: "2026-02-10",
    version: "v1.5.5",
    title: "批量模式粘贴姓名快速选人",
    summary: "批量模式下直接粘贴多个学生姓名，按回车自动勾选，不用一个个找了。",
    highlights: [
      "搜索框支持输入多个姓名（空格或逗号分隔），按回车自动选中",
      "支持多次粘贴追加选择，未找到的姓名会提示",
      "搜索框旁显示「选中」按钮，点击也能快速勾选",
    ],
    tags: ["功能"],
  },
  {
    id: "record-sort-fix",
    date: "2026-02-10",
    version: "v1.5.4",
    title: "修复成长记录显示问题",
    summary: "修复加分提示显示错误学生名、成长记录日期排序混乱的问题，记录查询速度也更快了。",
    highlights: [
      "加分/扣分后底部提示现在显示正确的学生名",
      "成长记录按日期排序恢复正常",
      "记录查询性能优化，数据量再多也不卡",
    ],
    tags: ["修复", "体验"],
  },
  {
    id: "duplicate-add-fix",
    date: "2026-02-10",
    version: "v1.5.3",
    title: "修复重复添加学生",
    summary: "修复快速连续点击添加按钮导致学生被重复写入的问题。",
    highlights: [
      "添加、批量添加、Excel 导入按钮在操作中自动禁用，防止重复提交",
    ],
    tags: ["修复"],
  },
  {
    id: "mobile-records",
    date: "2026-02-10",
    version: "v1.5.2",
    title: "手机端成长记录入口",
    summary: "主账号手机端底部导航新增「记录」Tab，随时查看学生积分变动。",
    highlights: [
      "手机端底部导航新增「记录」入口，与电脑端一致",
      "记录页面针对小屏幕优化，文字和间距更紧凑，浏览更舒适",
    ],
    tags: ["体验"],
  },
  {
    id: "touch-hover-fix",
    date: "2026-02-10",
    version: "v1.5.1",
    title: "修复触屏设备点击无反应",
    summary: "修复在智慧黑板、触屏电脑等设备上点击学生卡片没反应的问题。",
    highlights: [
      "360浏览器 + 触屏设备上点击学生卡片现在能正常弹出操作面板",
      "桌面端鼠标悬浮效果保持不变",
    ],
    tags: ["修复"],
  },
  {
    id: "group-pk",
    date: "2026-02-10",
    version: "v1.5.0",
    title: "小组积分PK",
    summary: "把学生分成小组进行积分PK，在光荣榜查看小组排名，激发团队合作。",
    highlights: [
      "设置页新增「分组管理」，自由创建小组、分配成员、设置颜色标识",
      "光荣榜新增「小组PK」Tab，按小组总积分排名，可展开查看成员明细",
      "删除学生或班级时自动清理关联的小组数据",
      "没有分组时光荣榜保持原样，不影响已有使用习惯",
    ],
    tags: ["功能"],
  },
  {
    id: "bugfix-v1.4.2",
    date: "2026-02-10",
    version: "v1.4.2",
    title: "稳定性修复",
    summary: "修复光荣榜小组排名、切换班级残留数据、子账号创建等多项问题，提升系统稳定性。",
    highlights: [
      "修复光荣榜小组排名在集合未就绪时可能报错的问题",
      "修复切换班级时光荣榜短暂显示上一个班级排名的问题",
      "修复创建子账号时用户名唯一性校验在用户量较多时可能失效的问题",
    ],
    tags: ["修复"],
  },
  {
    id: "student-limit",
    date: "2026-02-10",
    version: "v1.4.1",
    title: "班级学生人数上限",
    summary: "每个班级最多容纳 100 名学生，添加时会提示剩余名额。",
    highlights: [
      "单个添加、批量导入、Excel 导入均会在达到上限时提前提示",
      "学生管理区域显示当前人数和剩余名额",
    ],
    tags: ["功能"],
  },
  {
    id: "share-to-parents",
    date: "2026-02-10",
    version: "v1.4.0",
    title: "进度分享到家长群",
    summary: "生成分享链接发到微信群，家长点开即可查看幻兽养成实时进度，无需登录。",
    highlights: [
      "支持班级概览和学生详情两种分享模式",
      "班级概览显示全班排名、幻兽形态和进度，前三名金银铜高亮",
      "学生详情展示幻兽大图、积分数据和最近积分记录",
      "链接30天有效，可随时在分享管理中撤销",
    ],
    tags: ["功能"],
  },
  {
    id: "mobile-adaptation",
    date: "2026-02-10",
    version: "v1.3.0",
    title: "手机端适配上线",
    summary: "老师可以在手机上随时给学生加减分，教室里走到哪操作到哪。",
    highlights: [
      "手机底部新增导航栏，一键切换首页、光荣榜、小卖部、设置",
      "学生卡片紧凑排列，一屏可看 4-6 个学生，快速找到目标",
      "加分弹窗从底部弹出，规则一目了然，点击即完成操作",
      "电脑端界面完全不受影响，手机电脑各用各的",
    ],
    tags: ["功能", "体验"],
  },
  {
    id: "settings-auto-save",
    date: "2026-02-09",
    version: "v1.2.1",
    title: "设置页自动保存",
    summary: "修改积分规则、商品等设置后自动保存，不再需要手动点保存按钮。",
    highlights: [
      "编辑后 1.5 秒无操作自动保存，顶部显示保存状态",
      "新增规则或商品名称为空时暂不保存，填完自动触发",
    ],
    tags: ["体验"],
  },
  {
    id: "sub-account-system",
    date: "2026-02-09",
    version: "v1.2.0",
    title: "子账号管理上线",
    summary: "可为班干部或协作老师创建子账号，分权管理班级积分。",
    highlights: [
      "在设置页创建子账号，设定用户名、密码和昵称",
      "勾选授权班级，子账号登录后只能看到对应班级",
      "子账号可加分/减分，操作记录自动标注操作人",
      "可按需开启小卖部兑换权限，默认关闭",
    ],
    tags: ["功能"],
  },
  {
    id: "copy-class-settings",
    date: "2026-02-08",
    version: "v1.1.2",
    title: "新建班级支持复制已有班级设置",
    summary: "创建新班级时可选择从已有班级复制积分规则和商品，不必每次从头配置。",
    highlights: [
      "新建班级弹窗新增「初始设置」选择：默认模板或从已有班级复制",
      "复制内容包括积分规则、成长阈值和小卖部商品",
      "创建后仍可在设置页面继续个性化修改",
    ],
    tags: ["功能"],
  },
  {
    id: "search-records-by-student",
    date: "2026-02-08",
    version: "v1.1.1",
    title: "成长记录支持按学生搜索",
    summary: "记录页新增搜索框，快速查看某位学生的所有积分变动。",
    highlights: [
      "输入学生姓名即可筛选，支持模糊匹配",
      "保存设置时自动校验名称不能为空，避免误存",
    ],
    tags: ["功能"],
  },
  {
    id: "honor-board-upgrade",
    date: "2026-02-08",
    version: "v1.1.0",
    title: "光荣榜全新升级",
    summary: "徽章展示收集的满级幻兽，积分体系更清晰。",
    highlights: [
      "满级幻兽自动记录为徽章，光荣榜展示收集图鉴，悬停可查看大图",
      "新增累计积分：历史总获得，不受兑换和换幻兽影响，排名更公平",
      "成长值决定幻兽等级，可用积分用于小卖部兑换，概念一目了然",
    ],
    tags: ["功能", "优化"],
  },
  {
    id: "sort-settings",
    date: "2026-02-07",
    version: "v1.0.9",
    title: "小卖部与积分项支持排序",
    summary: "加分项、减分项和小卖部商品支持自定义排序。",
    highlights: ["设置页拖拽排序", "保存后列表按新顺序展示"],
    tags: ["功能"],
  },
  {
    id: "pwa-install",
    date: "2026-02-07",
    version: "v1.0.8",
    title: "支持安装到桌面，全屏像 App 使用",
    summary: "应用可安装到手机/电脑桌面，全屏打开更专注。",
    highlights: ["安装后可全屏使用", "打开速度更快，体验更流畅"],
    tags: ["功能"],
  },
  {
    id: "store-custom-items",
    date: "2026-02-07",
    version: "v1.0.8",
    title: "小卖部商品支持自定义",
    summary: "老师可自定义小卖部商品内容，满足不同班级需求。",
    highlights: ["可新增、编辑、下架商品", "支持设置积分价格与库存"],
    tags: ["功能"],
  },
  {
    id: "v1.0.4",
    date: "2026-02-07",
    version: "v1.0.4",
    title: "Excel 导入学生名单",
    summary: "支持上传 Excel 批量导入学生名单，减少手工录入。",
    highlights: [
      "上传 .xlsx/.xls 文件，自动识别姓名列并预览确认",
      "拖拽上传，文件大小限制 5MB",
    ],
    tags: ["功能"],
  },
  {
    id: "v1.0.3",
    date: "2026-02-07",
    version: "v1.0.3",
    title: "进化升级全屏庆祝动画",
    summary: "加分导致进化时展示沉浸式全屏动画。",
    highlights: [
      "白色闪光、发光环、星星粒子与新形态居中展示",
      "支持批量模式连续播放多个进化动画",
    ],
    tags: ["功能"],
  },
  {
    id: "v1.0.2",
    date: "2026-02-06",
    version: "v1.0.2",
    title: "新班级默认积分规则",
    summary: "创建班级后自动预置积分规则，开班即可使用。",
    highlights: ["默认 13 条规则（9 加分 + 4 减分）"],
    tags: ["功能"],
  },
  {
    id: "v1.0.0",
    date: "2026-02-05",
    version: "v1.0.0",
    title: "幻兽学院核心系统上线",
    summary: "完整的班级积分与幻兽成长系统首次发布。",
    highlights: [
      "幻兽系统、积分系统、商店系统与荣誉系统",
      "记录系统、设置系统、认证与激活码管理",
    ],
    tags: ["功能"],
  },
]
